(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{160:function(e,t){},196:function(e,t,a){},197:function(e,t,a){},224:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(22),r=a.n(s),i=a(71),o=(a(196),a(161)),l=a(16),j=a(17),u=(a(197),a(63)),d=a(121),b=a(307),x=a(300),h=a(293),m=a(316),O=a(315),p=a(313),f=a(306),g=a(312),v=a(310),S=a(309),F=a(47),w=a(43),T=a.n(w),N=a(90),C=a(150),y=a.n(C),k=function(){var e=Object(N.a)(T.a.mark((function e(t){var a,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object({NODE_ENV:"production",PUBLIC_URL:"/webapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT||8080,e.next=3,y.a.get("http://20.118.65.75:".concat(a).concat(t));case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=a(302),L=a.p+"static/media/topSide.4e692f9c.jpg",E=a.p+"static/media/sideFrame.1c9f21d4.jpg",R=a.p+"static/media/family.46679394.jpg",A=function(){return{container:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",height:630,width:500,padding:"60px",overflow:"auto"},flexBox:{border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:"100%",width:"100%",overflow:"auto"},topAndBotFrame:{height:"10%",width:"100%"},sidesFrame:{width:"20%"},pictureFrame:{width:"100%",height:"80%",wrap:"wrap"},pictureBox:{backgroundImage:"url(".concat(R,")"),backgroundSize:"cover",outline:"1px solid black",backgroundRepeat:"no-repeat",height:"100%",width:"100%"},topAndBotPicture:{backgroundImage:"url(".concat(L,")"),backgroundSize:"cover",outline:"1px solid black",backgroundRepeat:"no-repeat",height:"100%",width:"100%"},sidePicture:{backgroundImage:"url(".concat(E,")"),backgroundSize:"cover",outline:"1px solid black",backgroundRepeat:"no-repeat",height:"100%",width:"100%"},dashboard:{display:"flex"},marginTitle:{flexGrow:1,paddingLeft:"10%",color:"#FFFFFF"},appBar:{background:"#2B3EFC",width:"100%",position:"absolute",zIndex:"100"},flexBoxV3:{background:"#FCFCFC",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"#FFFFFF",height:900,padding:"0 30px",overflow:"auto"},normalL:{color:"#19191A",display:"flex",justifyContent:"center",alignItems:"center"},normalTitle:{color:"#7688A1",display:"flex",justifyContent:"center",alignItems:"center"},tableRow:{display:"flex"},chip:{color:"#BCBCF6"},TableCSS:{borderRadius:"90%"},headerButton:{width:"100%"},iconCSS:{margin:"0px 0px 0px 16px"},iconButton:{color:"#FFFFFF"},borders:{borderBottom:"3px solid rgb(212, 212, 212)"}}},P=a(40),_=a(18),q=a(305),I=(a(221),a(2)),D=Object(B.a)(A),W=function(e){var t=D();return Object(I.jsx)(h.a,{className:t.tableRow,children:Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsxs)(f.a,{item:!0,xs:6,children:[Object(I.jsx)("p",{className:t.normalTitle,children:"Ticket Title"}),Object(I.jsx)("p",{className:t.normalL,children:e.title})]}),Object(I.jsxs)(f.a,{item:!0,xs:6,children:[Object(I.jsx)("p",{className:t.normalTitle,children:"Ticket SLA"}),Object(I.jsx)("p",{className:t.normalL,children:e.SLA})]}),Object(I.jsxs)(f.a,{item:!0,xs:6,children:[Object(I.jsx)("p",{className:t.normalTitle,children:"Ticket State"}),Object(I.jsx)("p",{className:t.normalL,children:e.TicketState})]}),Object(I.jsxs)(f.a,{item:!0,xs:6,children:[Object(I.jsx)("p",{className:t.normalL,children:"Responsable: ".concat(e.resName," ").concat(e.resLastName)}),Object(I.jsx)("p",{className:t.normalL,children:"Email: ".concat(e.resEmail)})]}),Object(I.jsxs)(f.a,{item:!0,xs:6,children:[Object(I.jsx)("p",{className:t.normalTitle,children:"Ticket Queue"}),Object(I.jsx)("p",{className:t.normalL,children:e.Queue})]}),Object(I.jsxs)(f.a,{item:!0,xs:6,children:[Object(I.jsx)("p",{className:t.normalTitle,children:"Ticket Service"}),Object(I.jsx)("p",{className:t.normalL,children:e.service})]})]})})},Q=a(153),H=a.n(Q),U=a(154),K=a.n(U),V=Object(B.a)(A),z=function(e){var t=V(),a=Object(c.useState)([]),n=Object(l.a)(a,2),s=n[0],r=n[1];return Object(c.useEffect)((function(){e.services&&r(e.services.filter((function(t){return t.Service.includes(e.queue)})))}),[e]),Object(I.jsx)(h.a,{className:t.flexBox,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,xs:3,children:Object(I.jsxs)("p",{children:["Total of tickets: ",e.total]})}),Object(I.jsx)(f.a,{item:!0,xs:9,children:Object(I.jsxs)(P.a,{data:s||[],children:[Object(I.jsx)(P.c,{valueField:"Total",argumentField:"Service",innerRadius:.6}),Object(I.jsx)(P.d,{text:"Tickets by Service"}),Object(I.jsx)(P.b,{}),Object(I.jsx)(_.a,{})]})})]})})},G=a(311),M=a(308),J=Object(B.a)(A),X=function(e){var t=Object(c.useState)(!1),a=Object(l.a)(t,2),s=a[0],r=a[1],i=Object(c.useState)([]),o=Object(l.a)(i,2),j=o[0],u=o[1],d=Object(c.useState)(0),b=Object(l.a)(d,2),x=b[0],m=b[1],O=J();return Object(c.useEffect)((function(){var t=e.tickets.filter((function(t){return t.Queue.includes(e.queue)}));u(t),m(t.length)}),[]),Object(I.jsxs)(h.a,{children:[Object(I.jsx)(q.a,{className:O.headerButton,onClick:function(){r(!s)},variant:"text",children:Object(I.jsxs)("h2",{children:[e.queue.replace("Herramientas Aplicaciones::",""),!s&&Object(I.jsx)(H.a,{className:O.iconCSS}),s&&Object(I.jsx)(K.a,{className:O.iconCSS})]})}),s&&Object(I.jsx)(h.a,{className:O.flexBoxV3,children:e.show&&j.map((function(e,t){return Object(I.jsxs)(n.a.Fragment,{children:[Object(I.jsx)(W,{title:e.title,Queue:e.Queue,SLA:e.SLA,TicketState:e.TicketState,resEmail:e.resEmail,resLastName:e.resLastName,resName:e.resName,service:e.service,children:e.Queue},e.ticketId+"_"+t),Object(I.jsx)(G.a,{children:Object(I.jsx)(M.a,{onClick:function(){return t=e.ticketNumber,void navigator.clipboard.writeText(t).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)}));var t},label:"Ticket Number: ".concat(e.ticketNumber)})})]})}))}),!s&&Object(I.jsx)(z,{queue:e.queue,services:e.services,total:x})]})},Y=a(299),Z=Object(B.a)(A),$=function(e){var t=Z();return Object(I.jsx)("div",{children:Object(I.jsx)(Y.a,{className:t.TableCSS,children:e.queues.map((function(t,a){return Object(I.jsx)(c.Fragment,{children:Object(I.jsx)(X,{show:!0,tickets:e.tickets,queue:t.Queue,services:e.services},a)})}))})})},ee=Object(c.createContext)(null),te=a(155),ae=a.n(te),ce=a(314),ne=Object(B.a)(A),se=function(e){var t=ne(),a=Object(c.useContext)(ee);return Object(I.jsx)(h.a,{className:t.appBar,children:Object(I.jsx)("div",{className:t.borders,children:Object(I.jsxs)(m.a,{children:[Object(I.jsx)(O.a,{component:"h1",variant:"h6",noWrap:!0,className:t.marginTitle,children:"Dashboard"}),Object(I.jsx)(ce.a,{className:t.iconButton,onClick:function(){a.setUser("LogOut"),console.log(a)},children:Object(I.jsx)(ae.a,{})})]})})})};function re(e){return Object(I.jsxs)(O.a,Object(u.a)(Object(u.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(I.jsx)(v.a,{color:"inherit",href:"https://getcrg.com/",children:"CRG"})," ",(new Date).getFullYear(),"."]}))}var ie=Object(d.a)(),oe=Object(B.a)(A);function le(){var e=Object(c.useContext)(ee).user,t=Object(j.f)(),a=Object(F.useQuery)("tickets",(function(){return k("/api/tickets")})),s=a.data,r=a.status,i=Object(F.useQuery)("queues",(function(){return k("/api/queues")})),o=i.data,l=(i.status,Object(F.useQuery)("queuesTotals",(function(){return k("/api/queues/totals")}))),u=l.data,d=l.status,O=Object(F.useQuery)("queuesServiceTotals",(function(){return k("/api/queues/services/totals")})),v=O.data,w=(O.status,oe());return Object(c.useEffect)((function(){"LogIn"!==e&&t("/",{replace:!0})}),[e]),Object(I.jsx)(b.a,{theme:ie,children:Object(I.jsxs)(h.a,{className:w.dashboard,children:[Object(I.jsx)(x.a,{}),Object(I.jsx)(se,{}),Object(I.jsxs)(h.a,{className:w.dashBoardBackground,component:"main",children:[Object(I.jsx)(m.a,{}),Object(I.jsxs)(p.a,{maxWidth:"lg",sx:{mt:4,mb:4},children:[Object(I.jsxs)(f.a,{container:!0,spacing:3,children:[Object(I.jsx)(f.a,{item:!0,xs:12,children:Object(I.jsxs)(g.a,{sx:{p:2,display:"flex",flexDirection:"column",height:400,width:"100%"},children:["loading"===d&&Object(I.jsx)(h.a,{sx:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(I.jsx)(S.a,{})}),"success"===d&&Object(I.jsxs)(P.a,{data:u||[],children:[Object(I.jsx)(P.c,{valueField:"Total",argumentField:"Queue",innerRadius:.6}),Object(I.jsx)(P.d,{text:"Queues"}),Object(I.jsx)(P.b,{}),Object(I.jsx)(_.a,{})]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,children:Object(I.jsxs)(g.a,{sx:{p:2,display:"flex",flexDirection:"column"},children:["loading"===r&&Object(I.jsx)(h.a,{sx:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(I.jsx)(S.a,{})}),"success"===r&&Object(I.jsx)(n.a.Fragment,{children:Object(I.jsx)($,{queues:o||[],tickets:s,services:v})})]})})]}),Object(I.jsx)(re,{sx:{pt:4}})]})]})]})})}var je=a(301),ue=(a(225),Object(B.a)(A)),de=function(e){var t=ue();return Object(I.jsx)(h.a,{className:t.flexBox,children:Object(I.jsxs)(f.a,{container:!0,width:"100%",height:"100%",children:[Object(I.jsx)(f.a,{className:t.topAndBotFrame,item:!0,xs:12,children:Object(I.jsx)(h.a,{className:t.topAndBotPicture})}),Object(I.jsx)(f.a,{className:t.sidesFrame,item:!0,xs:1,children:Object(I.jsx)(h.a,{className:t.sidePicture})}),Object(I.jsx)(f.a,{className:t.pictureFrame,item:!0,xs:10,children:Object(I.jsx)(h.a,{className:t.pictureBox})}),Object(I.jsx)(f.a,{className:t.sidesFrame,item:!0,xs:1,children:Object(I.jsx)(h.a,{className:t.sidePicture})}),Object(I.jsx)(f.a,{className:t.topAndBotFrame,item:!0,xs:12,children:Object(I.jsx)(h.a,{className:t.topAndBotPicture})})]})})},be=a(156),xe=a.n(be),he=a(157),me=a.n(he),Oe=a(158),pe=a.n(Oe),fe=a(159),ge=a.n(fe),ve=Object(B.a)(A);function Se(e){return Object(I.jsxs)(O.a,Object(u.a)(Object(u.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(I.jsx)(v.a,{color:"inherit",href:"https://www.getcrg.com/",children:"Familia Parra Barillas"})," ",(new Date).getFullYear(),"."]}))}var Fe=Object(d.a)({palette:{primary:xe.a,secondary:me.a},typography:{fontFamily:["Mountains of Christmas","cursive"].join(",")}}),we=function(){var e=ve(),t=Object(j.f)(),a=Object(c.useContext)(ee),n=Object(c.useState)(""),s=Object(l.a)(n,2),r=s[0],i=s[1],o=Object(c.useState)(""),u=Object(l.a)(o,2),d=u[0],m=u[1],f=Object(c.useState)(!1),g=Object(l.a)(f,2),v=g[0],S=g[1];Object(c.useEffect)((function(){v&&(t("/dashboard",{replace:!0}),a.setUser("LogIn"))}),[v]);var F=function(){var e=Object(N.a)(T.a.mark((function e(){var t,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object({NODE_ENV:"production",PUBLIC_URL:"/webapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT||8080,window.XMLHttpRequest&&(a=new XMLHttpRequest),a.open("GET","http://20.118.65.75:".concat(t,"/auth/").concat(r,"/").concat(d)),a.addEventListener("load",(function(e){"true"===e.target.responseText&&S(e),console.log(e.target.responseText)})),a.send();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e){"email"===e.currentTarget.name&&i(e.currentTarget.value),"password"===e.currentTarget.name&&m(e.currentTarget.value)};return Object(I.jsxs)(b.a,{theme:Fe,children:[Object(I.jsxs)(p.a,{component:"main",maxWidth:"xs",children:[Object(I.jsx)(x.a,{}),Object(I.jsx)(h.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:Object(I.jsxs)(O.a,{variant:"h2",children:[Object(I.jsx)(pe.a,{}),"Family Album",Object(I.jsx)(ge.a,{})]})})]}),Object(I.jsx)(p.a,{className:e.container,maxWidth:"xs",children:Object(I.jsx)(de,{})}),Object(I.jsxs)(p.a,{maxWidth:"xs",children:[Object(I.jsxs)(h.a,{noValidate:!0,sx:{mt:1},children:[Object(I.jsx)(je.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Name",name:"email",autoComplete:"email",autoFocus:!0,onChange:w}),Object(I.jsx)(je.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Family Password",type:"password",id:"password",autoComplete:"current-password",onChange:w}),Object(I.jsx)(q.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:F,children:"Welcome Back"})]}),Object(I.jsx)(Se,{sx:{mt:8,mb:4}})]})]})},Te=a(160),Ne=[{name:"notFound",path:"/not-found",component:a.n(Te).a},{name:"login",path:"/",component:we},{name:"dashboard",path:"/dashboard",component:function(){return Object(I.jsx)(le,{})}}],Ce=["path","component","name"],ye=new F.QueryClient;var ke=function(){var e=Object(c.useState)("notRoot"),t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(I.jsx)(F.QueryClientProvider,{client:ye,contextSharing:!0,children:Object(I.jsx)("main",{className:"container",children:Object(I.jsx)(ee.Provider,{value:{user:a,setUser:n},children:Object(I.jsx)(j.c,{children:Ne.map((function(e){var t=e.path,a=e.component,c=e.name;Object(o.a)(e,Ce);return Object(I.jsx)(j.a,{path:t,element:Object(I.jsx)(a,{})},c)}))})})})})},Be=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,318)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(I.jsx)(i.a,{children:Object(I.jsx)(ke,{})}),document.getElementById("root")),Be()}},[[224,1,2]]]);
//# sourceMappingURL=main.1c84768a.chunk.js.map