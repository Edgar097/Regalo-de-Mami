(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{160:function(e,t){},196:function(e,t,a){},197:function(e,t,a){},224:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(22),r=a.n(s),i=a(71),o=(a(196),a(161)),l=a(16),j=a(17),u=(a(197),a(63)),d=a(121),b=a(307),x=a(300),h=a(293),m=a(316),O=a(315),p=a(313),f=a(306),g=a(312),v=a(310),S=a(309),w=a(47),F=a(43),T=a.n(F),N=a(90),C=a(150),k=a.n(C),y=function(){var e=Object(N.a)(T.a.mark((function e(t){var a,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object({NODE_ENV:"production",PUBLIC_URL:"/webapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT||8080,e.next=3,k.a.get("http://20.118.65.75:".concat(a).concat(t));case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=a(302),L=(a.p,a.p,a.p,function(){return{container:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",height:630,width:500,padding:"60px",overflow:"auto"},flexBox:{border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:"100%",width:"100%",overflow:"auto"},topAndBotFrame:{height:"10%",width:"100%"},sidesFrame:{width:"20%"},pictureFrame:{width:"100%",height:"80%",wrap:"wrap"},pictureBox:{backgroundImage:"url(https://user-images.githubusercontent.com/76976401/144694166-55203e91-62f9-4cdf-aad1-2f7e7540b81d.jpg)",backgroundSize:"cover",outline:"1px solid black",backgroundRepeat:"no-repeat",height:"100%",width:"100%"},topAndBotPicture:{backgroundImage:"url(https://user-images.githubusercontent.com/76976401/144694133-51c5bc20-f99d-4f85-bb01-fbf9b9264d03.jpg)",backgroundSize:"cover",outline:"1px solid black",backgroundRepeat:"no-repeat",height:"100%",width:"100%"},sidePicture:{backgroundImage:"url(https://user-images.githubusercontent.com/76976401/144694112-a3c70e72-d104-4860-bedd-9fbf30dc66b6.jpg)",backgroundSize:"cover",outline:"1px solid black",backgroundRepeat:"no-repeat",height:"100%",width:"100%"},dashboard:{display:"flex"},marginTitle:{flexGrow:1,paddingLeft:"10%",color:"#FFFFFF"},appBar:{background:"#2B3EFC",width:"100%",position:"absolute",zIndex:"100"},flexBoxV3:{background:"#FCFCFC",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"#FFFFFF",height:900,padding:"0 30px",overflow:"auto"},normalL:{color:"#19191A",display:"flex",justifyContent:"center",alignItems:"center"},normalTitle:{color:"#7688A1",display:"flex",justifyContent:"center",alignItems:"center"},tableRow:{display:"flex"},chip:{color:"#BCBCF6"},TableCSS:{borderRadius:"90%"},headerButton:{width:"100%"},iconCSS:{margin:"0px 0px 0px 16px"},iconButton:{color:"#FFFFFF"},borders:{borderBottom:"3px solid rgb(212, 212, 212)"}}}),E=a(40),R=a(18),A=a(305),P=(a(221),a(2)),_=Object(B.a)(L),q=function(e){var t=_();return Object(P.jsx)(h.a,{className:t.tableRow,children:Object(P.jsxs)(f.a,{container:!0,spacing:1,children:[Object(P.jsxs)(f.a,{item:!0,xs:6,children:[Object(P.jsx)("p",{className:t.normalTitle,children:"Ticket Title"}),Object(P.jsx)("p",{className:t.normalL,children:e.title})]}),Object(P.jsxs)(f.a,{item:!0,xs:6,children:[Object(P.jsx)("p",{className:t.normalTitle,children:"Ticket SLA"}),Object(P.jsx)("p",{className:t.normalL,children:e.SLA})]}),Object(P.jsxs)(f.a,{item:!0,xs:6,children:[Object(P.jsx)("p",{className:t.normalTitle,children:"Ticket State"}),Object(P.jsx)("p",{className:t.normalL,children:e.TicketState})]}),Object(P.jsxs)(f.a,{item:!0,xs:6,children:[Object(P.jsx)("p",{className:t.normalL,children:"Responsable: ".concat(e.resName," ").concat(e.resLastName)}),Object(P.jsx)("p",{className:t.normalL,children:"Email: ".concat(e.resEmail)})]}),Object(P.jsxs)(f.a,{item:!0,xs:6,children:[Object(P.jsx)("p",{className:t.normalTitle,children:"Ticket Queue"}),Object(P.jsx)("p",{className:t.normalL,children:e.Queue})]}),Object(P.jsxs)(f.a,{item:!0,xs:6,children:[Object(P.jsx)("p",{className:t.normalTitle,children:"Ticket Service"}),Object(P.jsx)("p",{className:t.normalL,children:e.service})]})]})})},I=a(153),D=a.n(I),W=a(154),Q=a.n(W),H=Object(B.a)(L),U=function(e){var t=H(),a=Object(c.useState)([]),n=Object(l.a)(a,2),s=n[0],r=n[1];return Object(c.useEffect)((function(){e.services&&r(e.services.filter((function(t){return t.Service.includes(e.queue)})))}),[e]),Object(P.jsx)(h.a,{className:t.flexBox,children:Object(P.jsxs)(f.a,{container:!0,spacing:2,children:[Object(P.jsx)(f.a,{item:!0,xs:3,children:Object(P.jsxs)("p",{children:["Total of tickets: ",e.total]})}),Object(P.jsx)(f.a,{item:!0,xs:9,children:Object(P.jsxs)(E.a,{data:s||[],children:[Object(P.jsx)(E.c,{valueField:"Total",argumentField:"Service",innerRadius:.6}),Object(P.jsx)(E.d,{text:"Tickets by Service"}),Object(P.jsx)(E.b,{}),Object(P.jsx)(R.a,{})]})})]})})},K=a(311),V=a(308),z=Object(B.a)(L),G=function(e){var t=Object(c.useState)(!1),a=Object(l.a)(t,2),s=a[0],r=a[1],i=Object(c.useState)([]),o=Object(l.a)(i,2),j=o[0],u=o[1],d=Object(c.useState)(0),b=Object(l.a)(d,2),x=b[0],m=b[1],O=z();return Object(c.useEffect)((function(){var t=e.tickets.filter((function(t){return t.Queue.includes(e.queue)}));u(t),m(t.length)}),[]),Object(P.jsxs)(h.a,{children:[Object(P.jsx)(A.a,{className:O.headerButton,onClick:function(){r(!s)},variant:"text",children:Object(P.jsxs)("h2",{children:[e.queue.replace("Herramientas Aplicaciones::",""),!s&&Object(P.jsx)(D.a,{className:O.iconCSS}),s&&Object(P.jsx)(Q.a,{className:O.iconCSS})]})}),s&&Object(P.jsx)(h.a,{className:O.flexBoxV3,children:e.show&&j.map((function(e,t){return Object(P.jsxs)(n.a.Fragment,{children:[Object(P.jsx)(q,{title:e.title,Queue:e.Queue,SLA:e.SLA,TicketState:e.TicketState,resEmail:e.resEmail,resLastName:e.resLastName,resName:e.resName,service:e.service,children:e.Queue},e.ticketId+"_"+t),Object(P.jsx)(K.a,{children:Object(P.jsx)(V.a,{onClick:function(){return t=e.ticketNumber,void navigator.clipboard.writeText(t).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)}));var t},label:"Ticket Number: ".concat(e.ticketNumber)})})]})}))}),!s&&Object(P.jsx)(U,{queue:e.queue,services:e.services,total:x})]})},M=a(299),J=Object(B.a)(L),X=function(e){var t=J();return Object(P.jsx)("div",{children:Object(P.jsx)(M.a,{className:t.TableCSS,children:e.queues.map((function(t,a){return Object(P.jsx)(c.Fragment,{children:Object(P.jsx)(G,{show:!0,tickets:e.tickets,queue:t.Queue,services:e.services},a)})}))})})},Y=Object(c.createContext)(null),Z=a(155),$=a.n(Z),ee=a(314),te=Object(B.a)(L),ae=function(e){var t=te(),a=Object(c.useContext)(Y);return Object(P.jsx)(h.a,{className:t.appBar,children:Object(P.jsx)("div",{className:t.borders,children:Object(P.jsxs)(m.a,{children:[Object(P.jsx)(O.a,{component:"h1",variant:"h6",noWrap:!0,className:t.marginTitle,children:"Dashboard"}),Object(P.jsx)(ee.a,{className:t.iconButton,onClick:function(){a.setUser("LogOut"),console.log(a)},children:Object(P.jsx)($.a,{})})]})})})};function ce(e){return Object(P.jsxs)(O.a,Object(u.a)(Object(u.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(P.jsx)(v.a,{color:"inherit",href:"https://getcrg.com/",children:"CRG"})," ",(new Date).getFullYear(),"."]}))}var ne=Object(d.a)(),se=Object(B.a)(L);function re(){var e=Object(c.useContext)(Y).user,t=Object(j.f)(),a=Object(w.useQuery)("tickets",(function(){return y("/api/tickets")})),s=a.data,r=a.status,i=Object(w.useQuery)("queues",(function(){return y("/api/queues")})),o=i.data,l=(i.status,Object(w.useQuery)("queuesTotals",(function(){return y("/api/queues/totals")}))),u=l.data,d=l.status,O=Object(w.useQuery)("queuesServiceTotals",(function(){return y("/api/queues/services/totals")})),v=O.data,F=(O.status,se());return Object(c.useEffect)((function(){"LogIn"!==e&&t("/",{replace:!0})}),[e]),Object(P.jsx)(b.a,{theme:ne,children:Object(P.jsxs)(h.a,{className:F.dashboard,children:[Object(P.jsx)(x.a,{}),Object(P.jsx)(ae,{}),Object(P.jsxs)(h.a,{className:F.dashBoardBackground,component:"main",children:[Object(P.jsx)(m.a,{}),Object(P.jsxs)(p.a,{maxWidth:"lg",sx:{mt:4,mb:4},children:[Object(P.jsxs)(f.a,{container:!0,spacing:3,children:[Object(P.jsx)(f.a,{item:!0,xs:12,children:Object(P.jsxs)(g.a,{sx:{p:2,display:"flex",flexDirection:"column",height:400,width:"100%"},children:["loading"===d&&Object(P.jsx)(h.a,{sx:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(P.jsx)(S.a,{})}),"success"===d&&Object(P.jsxs)(E.a,{data:u||[],children:[Object(P.jsx)(E.c,{valueField:"Total",argumentField:"Queue",innerRadius:.6}),Object(P.jsx)(E.d,{text:"Queues"}),Object(P.jsx)(E.b,{}),Object(P.jsx)(R.a,{})]})]})}),Object(P.jsx)(f.a,{item:!0,xs:12,children:Object(P.jsxs)(g.a,{sx:{p:2,display:"flex",flexDirection:"column"},children:["loading"===r&&Object(P.jsx)(h.a,{sx:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(P.jsx)(S.a,{})}),"success"===r&&Object(P.jsx)(n.a.Fragment,{children:Object(P.jsx)(X,{queues:o||[],tickets:s,services:v})})]})})]}),Object(P.jsx)(ce,{sx:{pt:4}})]})]})]})})}var ie=a(301),oe=(a(225),Object(B.a)(L)),le=function(e){var t=oe();return Object(P.jsx)(h.a,{className:t.flexBox,children:Object(P.jsxs)(f.a,{container:!0,width:"100%",height:"100%",children:[Object(P.jsx)(f.a,{className:t.topAndBotFrame,item:!0,xs:12,children:Object(P.jsx)(h.a,{className:t.topAndBotPicture})}),Object(P.jsx)(f.a,{className:t.sidesFrame,item:!0,xs:1,children:Object(P.jsx)(h.a,{className:t.sidePicture})}),Object(P.jsx)(f.a,{className:t.pictureFrame,item:!0,xs:10,children:Object(P.jsx)(h.a,{className:t.pictureBox})}),Object(P.jsx)(f.a,{className:t.sidesFrame,item:!0,xs:1,children:Object(P.jsx)(h.a,{className:t.sidePicture})}),Object(P.jsx)(f.a,{className:t.topAndBotFrame,item:!0,xs:12,children:Object(P.jsx)(h.a,{className:t.topAndBotPicture})})]})})},je=a(156),ue=a.n(je),de=a(157),be=a.n(de),xe=a(158),he=a.n(xe),me=a(159),Oe=a.n(me),pe=Object(B.a)(L);function fe(e){return Object(P.jsxs)(O.a,Object(u.a)(Object(u.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(P.jsx)(v.a,{color:"inherit",href:"https://www.getcrg.com/",children:"Familia Parra Barillas"})," ",(new Date).getFullYear(),"."]}))}var ge=Object(d.a)({palette:{primary:ue.a,secondary:be.a},typography:{fontFamily:["Mountains of Christmas","cursive"].join(",")}}),ve=function(){var e=pe(),t=Object(j.f)(),a=Object(c.useContext)(Y),n=Object(c.useState)(""),s=Object(l.a)(n,2),r=s[0],i=s[1],o=Object(c.useState)(""),u=Object(l.a)(o,2),d=u[0],m=u[1],f=Object(c.useState)(!1),g=Object(l.a)(f,2),v=g[0],S=g[1];Object(c.useEffect)((function(){v&&(t("/dashboard",{replace:!0}),a.setUser("LogIn"))}),[v]);var w=function(){var e=Object(N.a)(T.a.mark((function e(){var t,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object({NODE_ENV:"production",PUBLIC_URL:"/webapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT||8080,window.XMLHttpRequest&&(a=new XMLHttpRequest),a.open("GET","http://20.118.65.75:".concat(t,"/auth/").concat(r,"/").concat(d)),a.addEventListener("load",(function(e){"true"===e.target.responseText&&S(e),console.log(e.target.responseText)})),a.send();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(e){"email"===e.currentTarget.name&&i(e.currentTarget.value),"password"===e.currentTarget.name&&m(e.currentTarget.value)};return Object(P.jsxs)(b.a,{theme:ge,children:[Object(P.jsxs)(p.a,{component:"main",maxWidth:"xs",children:[Object(P.jsx)(x.a,{}),Object(P.jsx)(h.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:Object(P.jsxs)(O.a,{variant:"h2",children:[Object(P.jsx)(he.a,{}),"Family Album",Object(P.jsx)(Oe.a,{})]})})]}),Object(P.jsx)(p.a,{className:e.container,maxWidth:"xs",children:Object(P.jsx)(le,{})}),Object(P.jsxs)(p.a,{maxWidth:"xs",children:[Object(P.jsxs)(h.a,{noValidate:!0,sx:{mt:1},children:[Object(P.jsx)(ie.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Name",name:"email",autoComplete:"email",autoFocus:!0,onChange:F}),Object(P.jsx)(ie.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Family Password",type:"password",id:"password",autoComplete:"current-password",onChange:F}),Object(P.jsx)(A.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:w,children:"Welcome Back"})]}),Object(P.jsx)(fe,{sx:{mt:8,mb:4}})]})]})},Se=a(160),we=[{name:"notFound",path:"/not-found",component:a.n(Se).a},{name:"login",path:"/",component:ve},{name:"dashboard",path:"/dashboard",component:function(){return Object(P.jsx)(re,{})}}],Fe=["path","component","name"],Te=new w.QueryClient;var Ne=function(){var e=Object(c.useState)("notRoot"),t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(P.jsx)(w.QueryClientProvider,{client:Te,contextSharing:!0,children:Object(P.jsx)("main",{className:"container",children:Object(P.jsx)(Y.Provider,{value:{user:a,setUser:n},children:Object(P.jsx)(j.c,{children:we.map((function(e){var t=e.path,a=e.component,c=e.name;Object(o.a)(e,Fe);return Object(P.jsx)(j.a,{path:t,element:Object(P.jsx)(a,{})},c)}))})})})})},Ce=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,318)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(P.jsx)(i.a,{children:Object(P.jsx)(Ne,{})}),document.getElementById("root")),Ce()}},[[224,1,2]]]);
//# sourceMappingURL=main.92d2dc1e.chunk.js.map