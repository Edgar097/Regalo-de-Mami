(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{147:function(e,t){},178:function(e,t,a){},179:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(22),c=a.n(r),o=a(66),i=(a(178),a(12)),s=a(13),l=(a(179),a(275)),u=a(270),d=a(25),b=a.n(d),p=a(42),j=a(34),h=a(108),m=a(258),x=a(277),f=a(276),g=a(143),O=a.n(g),v=a(37),w=a.n(v),y=a(272),k=a(273),C=a(44),F=function(){var e=Object(p.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object({NODE_ENV:"production",PUBLIC_URL:"/webapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT||8080,e.next=3,w.a.get("http://20.118.65.75:".concat(a).concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=a(264),S=a(7),B=a(134),I=a.n(B),N=a(135),P=a.n(N),A=Object(h.a)({palette:{primary:I.a,secondary:P.a},typography:{fontFamily:["Mountains of Christmas","cursive"].join(",")}}),W=function(){return{container:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",padding:"60px",overflow:"auto"},flexBox:{border:0,display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",borderRadius:3,boxShadow:"0 5px 7px 4px rgba(255, 105, 135, .3)",color:"white",height:500,width:"100%",overflow:"auto",outline:"1px solid black"},box:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"60px"},familyTitle:Object(S.a)({fontSize:"50px !important"},A.breakpoints.down("sm"),{fontSize:"30px !important"}),sidesFrame:{display:"flex",width:"20%"},pictureFrame:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",width:"100%",height:"80%"},pictureBox:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",borderRadius:3,boxShadow:"0 5px 7px 4px rgba(255, 105, 135, .3)",color:"white",height:"100%",width:"100%",overflow:"hidden",outline:"1px solid black",border:"20px solid transparent",marginTop:"60px",marginBottom:"60px"},topAndBotPicture:{backgroundImage:"url(https://user-images.githubusercontent.com/76976401/144694133-51c5bc20-f99d-4f85-bb01-fbf9b9264d03.jpg)",backgroundSize:"cover",outline:"1px solid black",backgroundRepeat:"no-repeat",height:"100%",width:"100%",display:"flex"},sidePicture:{backgroundImage:"url(https://user-images.githubusercontent.com/76976401/144694112-a3c70e72-d104-4860-bedd-9fbf30dc66b6.jpg)",backgroundSize:"cover",outline:"1px solid black",backgroundRepeat:"no-repeat",height:"100%",width:"100%",display:"flex"},fullscreen:{position:"fixed",overflow:"auto",top:"0",left:"0",bottom:"0",right:"0",background:"linear-gradient(0deg, rgba(34,193,195,0.24740318490677526) 0%, rgba(253,187,45,0.12975612608324583) 100%)"},marginTitle:{flexGrow:1,paddingLeft:"10%",color:"#FFFFFF"},appBar:{background:"linear-gradient(90deg, rgba(131,58,180,1) 0%, rgba(253,29,29,1) 39%, rgba(252,176,69,1) 100%)",width:"100%",position:"absolute",zIndex:"100"},flexBoxV3:{background:"#FCFCFC",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"#FFFFFF",height:900,padding:"0 30px",overflow:"auto"},normalL:{color:"#19191A",display:"flex",justifyContent:"center",alignItems:"center"},normalTitle:{color:"#7688A1",display:"flex",justifyContent:"center",alignItems:"center"},tableRow:{display:"flex"},chip:{color:"#BCBCF6"},TableCSS:{borderRadius:"90%"},headerButton:{width:"100%"},iconCSS:{margin:"0px 0px 0px 16px"},iconButton:{color:"#FFFFFF"},borders:{borderBottom:"3px solid rgb(212, 212, 212)"},albumGrid:{padding:"1em",maxWidth:"auto",height:"500"},albumPaper:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",color:"white",width:"100%",overflow:"hidden",outline:"1px solid black",height:"calc(100vh - 100px)",maxHeight:"400px"},albumTag:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"center",width:"100%",height:"10%"},loginBox:{display:"flex",justifyContent:"center",alignItems:"center"}}},R=a(2),D=function(e){var t=e.accessToken,a=e.albumId,r=Object(n.useState)(null),c=Object(i.a)(r,2),o=c[0],s=c[1],l=Object(n.useState)(""),u=Object(i.a)(l,2),d=(u[0],u[1],function(){var e=Object(p.a)(b.a.mark((function e(n){var r,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n.preventDefault(),r="https://family-album-pr.herokuapp.com",c=new FormData,i=0;i<o.length;i++)c.append("file",o[i]);return e.next=6,w.a.post("".concat(r,"/api/upload"),c).then((function(e){console.log("Respond",e)}));case 6:return e.next=8,w.a.post("".concat(r,"/api/uploadToGoogle"),null,{params:{accessToken:t,albumId:a}}).then((function(e){console.log("Respond",e)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(R.jsx)("div",{children:Object(R.jsx)("form",{children:Object(R.jsxs)("div",{className:"form-group",children:[Object(R.jsx)("label",{htmlFor:"file",children:"Upload File:"}),Object(R.jsx)("input",{className:"form-control-file mb-3",type:"file",id:"file",multiple:!0,onChange:function(e){s(e.target.files),console.log(o)}}),Object(R.jsx)("button",{className:"btn btn-primary mt-3",onClick:d,children:"Upload"})]})})})},U=(a(61),a(16),a(269),a(204),a(267)),_=(Object(T.a)(W),a(138),a(139),Object(T.a)(W),a(274),a(271),Object(T.a)(W),a(262),Object(T.a)(W),Object(n.createContext)(null)),E=a(142),L=a.n(E),q=a(140),Q=a.n(q),z=a(141),G=a.n(z),H=a(278),M=Object(T.a)(W),K=function(e){var t=e.title,a=e.handleClickMain,r=e.handleClickAddAlbum,c=M(),o=Object(n.useContext)(_);return Object(R.jsx)(m.a,{className:c.appBar,children:Object(R.jsx)("div",{className:c.borders,children:Object(R.jsxs)(x.a,{children:[Object(R.jsx)(f.a,{component:"h1",variant:"h6",noWrap:!0,className:c.marginTitle,onClick:a,children:"Welcome Back, "+t+"!"}),Object(R.jsx)(H.a,{className:c.iconButton,onClick:r,children:Object(R.jsx)(Q.a,{})}),Object(R.jsx)(H.a,{className:c.iconButton,onClick:r,children:Object(R.jsx)(G.a,{})}),Object(R.jsx)(H.a,{className:c.iconButton,onClick:function(){o.setUser(!1)},children:Object(R.jsx)(L.a,{})})]})})})},J=function(e){var t=e.id,a=e.accessToken,n=function(){var e=Object(p.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat("https://family-album-pr.herokuapp.com","/api/getAlbum"),{params:{accessToken:a,albumId:t}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=Object(C.useQuery)("albumsPhoto",(function(){return n()})),c=r.data;r.status;return console.log("Photos",c?c.data.mediaItems:""),Object(R.jsxs)("div",{children:[Object(R.jsx)(D,{albumId:t,accessToken:a}),!("undefined"===typeof c)&&c.data&&c.data.mediaItems&&c.data.mediaItems.map((function(e,t){return console.log(e.baseUrl),Object(R.jsx)("img",{src:e.baseUrl,alt:e.filename,width:"100px",height:"100px"},t)}))]})};Object(h.a)();var V=Object(T.a)(W);function Y(){var e=Object(n.useContext)(_).user,t="https://family-album-pr.herokuapp.com",a=Object(s.f)(),r=Object(n.useState)(),c=Object(i.a)(r,2),o=c[0],u=c[1],d=function(){var a=Object(p.a)(b.a.mark((function a(){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.get("".concat(t,"/api/listAlbum"),{params:{accessToken:e.accessToken}});case 2:return n=a.sent,a.abrupt("return",n);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),j=function(){var a=Object(p.a)(b.a.mark((function a(){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.post("".concat(t,"/api/createAlbum"),null,{params:{accessToken:e.accessToken,name:"Prueba new album"}});case 2:return n=a.sent,a.abrupt("return",n);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),h=Object(C.useQuery)("albums",(function(){return d()})),g=h.data;h.status;console.log("ALBUM DATA",g);var v=Object(C.useQuery)("queuesTotals",(function(){return F("/api/queues/totals")})),k=(v.data,v.status,Object(C.useQuery)("queuesServiceTotals",(function(){return F("/api/queues/services/totals")}))),T=(k.data,k.status,V());return Object(n.useEffect)((function(){e||a("/",{replace:!0}),console.log("Dash:",e)})),Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(m.a,{className:T.fullscreen,children:[Object(R.jsx)(l.a,{}),Object(R.jsx)(K,{title:e.profileObj?e.profileObj.name:"No Title",handleClickMain:function(){u()},handleClickAddAlbum:function(){j()}}),Object(R.jsxs)(m.a,{className:T.dashBoardBackground,component:"main",children:[Object(R.jsx)(x.a,{}),!o&&Object(R.jsx)(U.a,{container:!0,spacing:2,className:T.albumGrid,children:g&&g.data&&g.data.albums.map((function(e,t){return Object(R.jsxs)(U.a,{item:!0,xs:12,md:6,lg:4,children:[Object(R.jsxs)(m.a,{className:T.albumTag,children:[Object(R.jsx)(f.a,{variant:"h4",children:e.title}),Object(R.jsx)("a",{target:"_blank",rel:"noreferrer",href:e.productUrl,children:Object(R.jsx)(O.a,{})})]}),Object(R.jsx)(y.a,{className:T.albumPaper,onClick:function(){!function(e){console.log(e),u(e)}(e.id)},children:Object(R.jsx)("img",{width:"100%",height:"100%",src:e.coverPhotoBaseUrl,alt:e.title})})]},t)}))}),o&&Object(R.jsx)(J,{id:o,accessToken:e.accessToken})]})]})})}var X=a(279),Z=a(144),$=a.n(Z),ee=a(148),te=["image","border"],ae=Object(T.a)(W),ne=function(e){var t=e.image,a=e.border,n=Object(ee.a)(e,te),r=ae();return Object(R.jsx)(m.a,Object(j.a)(Object(j.a)({className:r.pictureBox,style:{borderImage:"url(".concat(a,") 30 stretch")}},n),{},{children:Object(R.jsx)("img",Object(j.a)(Object(j.a)({src:t},n),{},{alt:""}))}))},re=(a(205),a(145)),ce=a.n(re),oe=a(146),ie=a.n(oe),se=Object(T.a)(W);function le(e){return Object(R.jsxs)(f.a,Object(j.a)(Object(j.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(R.jsx)(k.a,{color:"inherit",href:"https://www.getcrg.com/",children:"Familia Parra Barillas"})," ",(new Date).getFullYear(),"."]}))}var ue=function(){var e=se(),t=Object(s.f)(),a=Object(n.useContext)(_),r=Object(n.useState)(""),c=Object(i.a)(r,2),o=(c[0],c[1],Object(n.useState)("")),l=Object(i.a)(o,2),u=(l[0],l[1],Object(n.useState)(!1)),d=Object(i.a)(u,2),b=(d[0],d[1],function(e){a.setUser(e),t("/dashboard",{replace:!0})});return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(X.a,{maxWidth:"xs",children:Object(R.jsx)(m.a,{className:e.box,children:Object(R.jsxs)(f.a,{className:e.familyTitle,children:[Object(R.jsx)(ce.a,{}),"Family Album",Object(R.jsx)(ie.a,{})]})})}),Object(R.jsx)(X.a,{maxWidth:"xs",children:Object(R.jsx)(ne,{image:"https://user-images.githubusercontent.com/76976401/144694166-55203e91-62f9-4cdf-aad1-2f7e7540b81d.jpg",border:"https://user-images.githubusercontent.com/76976401/145110512-1483dd79-a43f-42cd-96c6-b918832f34cd.jpg",height:"400px",width:"100%"})}),Object(R.jsxs)(X.a,{maxWidth:"xs",children:[Object(R.jsx)(m.a,{className:e.loginBox,children:Object(R.jsx)($.a,{clientId:"785578439110-ife7i20s9dqj3n6hnnochdb4pme5quc7.apps.googleusercontent.com",buttonText:"Welcome Back",onSuccess:b,onFailure:b,cookiePolicy:"single_host_origin"})}),Object(R.jsx)(le,{sx:{mt:8,mb:4}})]})]})},de=a(147),be=[{name:"notFound",path:"/not-found",component:a.n(de).a},{name:"dashboard",path:"/dashboard",component:function(){return Object(R.jsx)(Y,{})}},{name:"login",path:"/",component:ue}],pe=new C.QueryClient;var je=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(R.jsx)(C.QueryClientProvider,{client:pe,contextSharing:!0,children:Object(R.jsxs)(u.a,{theme:A,children:[Object(R.jsx)(l.a,{}),Object(R.jsx)("main",{className:"container",children:Object(R.jsx)(_.Provider,{value:{user:a,setUser:r},children:Object(R.jsx)(s.c,{children:be.map((function(e){var t=e.path,a=e.component,n=e.name;return Object(R.jsx)(s.a,{path:t,element:Object(R.jsx)(a,{})},n)}))})})})]})})},he=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,280)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};c.a.render(Object(R.jsx)(o.a,{children:Object(R.jsx)(je,{})}),document.getElementById("root")),he()}},[[206,1,2]]]);
//# sourceMappingURL=main.d8056662.chunk.js.map