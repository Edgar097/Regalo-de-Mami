(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{116:function(e,t){},141:function(e,t,a){},142:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(32),r=a.n(c),o=a(53),i=(a(141),a(7)),s=a(8),l=(a(142),a(221)),u=a(216),d=a(23),b=a.n(d),p=a(36),j=a(28),h=a(218),x=a(223),m=a(222),f=a(112),g=a.n(f),O=a(33),v=a.n(O),w=a(220),y=a(219),k=a(38),C=function(){var e=Object(p.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object({NODE_ENV:"production",PUBLIC_URL:"/webapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT||8080,e.next=3,v.a.get("http://20.118.65.75:".concat(a).concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=a(212),T=a(10),S=a(104),B=a.n(S),I=a(105),N=a.n(I),A=a(117),P=Object(A.a)({palette:{primary:B.a,secondary:N.a},typography:{fontFamily:["Mountains of Christmas","cursive"].join(",")}}),W=function(){return{container:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",padding:"60px",overflow:"auto"},flexBox:{border:0,display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",borderRadius:3,boxShadow:"0 5px 7px 4px rgba(255, 105, 135, .3)",color:"white",height:500,width:"100%",overflow:"auto",outline:"1px solid black"},box:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"60px"},familyTitle:Object(T.a)({fontSize:"50px !important"},P.breakpoints.down("sm"),{fontSize:"30px !important"}),sidesFrame:{display:"flex",width:"20%"},pictureFrame:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",width:"100%",height:"80%"},pictureBox:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",borderRadius:3,boxShadow:"0 5px 7px 4px rgba(255, 105, 135, .3)",color:"white",height:"100%",width:"100%",overflow:"hidden",outline:"1px solid black",border:"20px solid transparent",marginTop:"60px",marginBottom:"60px"},topAndBotPicture:{backgroundImage:"url(https://user-images.githubusercontent.com/76976401/144694133-51c5bc20-f99d-4f85-bb01-fbf9b9264d03.jpg)",backgroundSize:"cover",outline:"1px solid black",backgroundRepeat:"no-repeat",height:"100%",width:"100%",display:"flex"},sidePicture:{backgroundImage:"url(https://user-images.githubusercontent.com/76976401/144694112-a3c70e72-d104-4860-bedd-9fbf30dc66b6.jpg)",backgroundSize:"cover",outline:"1px solid black",backgroundRepeat:"no-repeat",height:"100%",width:"100%",display:"flex"},fullscreen:{position:"fixed",overflow:"auto",top:"0",left:"0",bottom:"0",right:"0",background:"linear-gradient(0deg, rgba(34,193,195,0.24740318490677526) 0%, rgba(253,187,45,0.12975612608324583) 100%)"},marginTitle:{flexGrow:1,paddingLeft:"10%",color:"#FFFFFF"},appBar:{background:"linear-gradient(90deg, rgba(131,58,180,1) 0%, rgba(253,29,29,1) 39%, rgba(252,176,69,1) 100%)",width:"100%",position:"absolute",zIndex:"100"},flexBoxV3:{background:"#FCFCFC",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"#FFFFFF",height:900,padding:"0 30px",overflow:"auto"},normalL:{color:"#19191A",display:"flex",justifyContent:"center",alignItems:"center"},normalTitle:{color:"#7688A1",display:"flex",justifyContent:"center",alignItems:"center"},tableRow:{display:"flex"},chip:{color:"#BCBCF6"},TableCSS:{borderRadius:"90%"},headerButton:{width:"100%"},iconCSS:{margin:"0px 0px 0px 16px"},iconButton:{color:"#FFFFFF"},borders:{borderBottom:"3px solid rgb(212, 212, 212)"},albumGrid:{padding:"1em",maxWidth:"auto",height:"500"},albumPaper:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",color:"white",width:"100%",overflow:"hidden",outline:"1px solid black",height:"calc(100vh - 100px)",maxHeight:"400px"},albumTag:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"center",width:"100%",height:"10%"},loginBox:{display:"flex",justifyContent:"center",alignItems:"center"},modalcss:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,border:"2px solid #000",boxShadow:24,pt:2,px:4,pb:3}}},R=a(2),D=function(e){var t=e.accessToken,a=e.albumId,c=Object(n.useState)(null),r=Object(i.a)(c,2),o=r[0],s=r[1],l=Object(n.useState)(""),u=Object(i.a)(l,2),d=(u[0],u[1],function(){var e=Object(p.a)(b.a.mark((function e(n){var c,r,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n.preventDefault(),c="https://family-album-pr.herokuapp.com",r=new FormData,i=0;i<o.length;i++)r.append("file",o[i]);return e.next=6,v.a.post("".concat(c,"/api/upload"),r).then((function(e){console.log("Respond",e)}));case 6:return e.next=8,v.a.post("".concat(c,"/api/uploadToGoogle"),null,{params:{accessToken:t,albumId:a}}).then((function(e){console.log("Respond",e)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(R.jsx)("div",{children:Object(R.jsx)("form",{children:Object(R.jsxs)("div",{className:"form-group",children:[Object(R.jsx)("label",{htmlFor:"file",children:"Upload File:"}),Object(R.jsx)("input",{className:"form-control-file mb-3",type:"file",id:"file",multiple:!0,onChange:function(e){s(e.target.files),console.log(o)}}),Object(R.jsx)("button",{className:"btn btn-primary mt-3",onClick:d,children:"Upload"})]})})})},U=Object(n.createContext)(null),_=a(111),E=a.n(_),L=a(108),q=a.n(L),Q=a(110),z=a.n(Q),G=a(214),H=Object(F.a)(W),M=function(e){var t=e.title,a=e.handleClickMain,c=e.handleClickAddAlbum,r=H(),o=Object(n.useContext)(U);return Object(R.jsx)(h.a,{className:r.appBar,children:Object(R.jsx)("div",{className:r.borders,children:Object(R.jsxs)(x.a,{children:[Object(R.jsx)(m.a,{component:"h1",variant:"h6",noWrap:!0,className:r.marginTitle,onClick:a,children:"Welcome Back, "+t+"!"}),Object(R.jsx)(G.a,{className:r.iconButton,onClick:c,children:Object(R.jsx)(q.a,{})}),Object(R.jsx)(G.a,{className:r.iconButton,onClick:c,children:Object(R.jsx)(z.a,{})}),Object(R.jsx)(G.a,{className:r.iconButton,onClick:function(){o.setUser(!1)},children:Object(R.jsx)(E.a,{})})]})})})},K=a(217),J=function(e){var t=e.id,a=e.accessToken,n=function(){var e=Object(p.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat("https://family-album-pr.herokuapp.com","/api/getAlbum"),{params:{accessToken:a,albumId:t}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=Object(k.useQuery)("albumsPhoto",(function(){return n()})),r=c.data;c.status;return Object(R.jsx)("div",{children:!("undefined"===typeof r)&&r.data&&r.data.mediaItems&&r.data.mediaItems.map((function(e,t){return console.log(e.baseUrl),Object(R.jsx)("img",{src:e.baseUrl,alt:e.filename,width:"100px",height:"100px"},t)}))})},V=a(213),Y=function(e){var t=e.open,a=e.handleClose,n=e.id,c=e.accessToken,r=Object(F.a)(W)();return Object(R.jsx)("div",{children:Object(R.jsx)(V.a,{hideBackdrop:!0,open:t,onClose:a,children:Object(R.jsxs)(h.a,{className:r.modalcss,children:[Object(R.jsx)("h2",{id:"child-modal-title",children:"Add a new Album"}),Object(R.jsx)(D,{albumId:n,accessToken:c})]})})})};var X=Object(F.a)(W);function Z(){var e=Object(n.useContext)(U).user,t="https://family-album-pr.herokuapp.com",a=X(),c=Object(s.f)(),r=Object(n.useState)(),o=Object(i.a)(r,2),u=o[0],d=o[1],j=Object(n.useState)(!1),f=Object(i.a)(j,2),O=f[0],y=f[1],F=function(){var a=Object(p.a)(b.a.mark((function a(){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.get("".concat(t,"/api/listAlbum"),{params:{accessToken:e.accessToken}});case 2:return n=a.sent,a.abrupt("return",n);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),T=Object(k.useQuery)("albums",(function(){return F()})),S=T.data;T.status;console.log("ALBUM DATA",S);var B=Object(k.useQuery)("queuesTotals",(function(){return C("/api/queues/totals")})),I=(B.data,B.status,Object(k.useQuery)("queuesServiceTotals",(function(){return C("/api/queues/services/totals")})));I.data,I.status;return Object(n.useEffect)((function(){e||c("/",{replace:!0}),console.log("Dash:",e)})),Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(h.a,{className:a.fullscreen,children:[Object(R.jsx)(l.a,{}),Object(R.jsx)(M,{title:e.profileObj?e.profileObj.name:"No Title",handleClickMain:function(){d()},handleClickAddAlbum:function(){y(!0)}}),Object(R.jsxs)(h.a,{className:a.dashBoardBackground,component:"main",children:[Object(R.jsx)(x.a,{}),!u&&Object(R.jsx)(K.a,{container:!0,spacing:2,className:a.albumGrid,children:S&&S.data&&S.data.albums.map((function(e,t){return Object(R.jsxs)(K.a,{item:!0,xs:12,md:6,lg:4,children:[Object(R.jsxs)(h.a,{className:a.albumTag,children:[Object(R.jsx)(m.a,{variant:"h4",children:e.title}),Object(R.jsx)("a",{target:"_blank",rel:"noreferrer",href:e.productUrl,children:Object(R.jsx)(g.a,{})})]}),Object(R.jsx)(w.a,{className:a.albumPaper,onClick:function(){!function(e){console.log(e),d(e)}(e.id)},children:Object(R.jsx)("img",{width:"100%",height:"100%",src:e.coverPhotoBaseUrl,alt:e.title})})]},t)}))}),u&&Object(R.jsx)(J,{id:u,accessToken:e.accessToken}),Object(R.jsx)(Y,{open:O,handleClose:function(){y(!1)},id:u,accessToken:e.accessToken})]})]})})}var $=a(224),ee=a(113),te=a.n(ee),ae=a(118),ne=["image","border"],ce=Object(F.a)(W),re=function(e){var t=e.image,a=e.border,n=Object(ae.a)(e,ne),c=ce();return Object(R.jsx)(h.a,Object(j.a)(Object(j.a)({className:c.pictureBox,style:{borderImage:"url(".concat(a,") 30 stretch")}},n),{},{children:Object(R.jsx)("img",Object(j.a)(Object(j.a)({src:t},n),{},{alt:""}))}))},oe=(a(167),a(114)),ie=a.n(oe),se=a(115),le=a.n(se),ue=Object(F.a)(W);function de(e){return Object(R.jsxs)(m.a,Object(j.a)(Object(j.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(R.jsx)(y.a,{color:"inherit",href:"https://www.getcrg.com/",children:"Familia Parra Barillas"})," ",(new Date).getFullYear(),"."]}))}var be=function(){var e=ue(),t=Object(s.f)(),a=Object(n.useContext)(U),c=Object(n.useState)(""),r=Object(i.a)(c,2),o=(r[0],r[1],Object(n.useState)("")),l=Object(i.a)(o,2),u=(l[0],l[1],Object(n.useState)(!1)),d=Object(i.a)(u,2),b=(d[0],d[1],function(e){a.setUser(e),t("/dashboard",{replace:!0})});return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)($.a,{maxWidth:"xs",children:Object(R.jsx)(h.a,{className:e.box,children:Object(R.jsxs)(m.a,{className:e.familyTitle,children:[Object(R.jsx)(ie.a,{}),"Family Album",Object(R.jsx)(le.a,{})]})})}),Object(R.jsx)($.a,{maxWidth:"xs",children:Object(R.jsx)(re,{image:"https://user-images.githubusercontent.com/76976401/144694166-55203e91-62f9-4cdf-aad1-2f7e7540b81d.jpg",border:"https://user-images.githubusercontent.com/76976401/145110512-1483dd79-a43f-42cd-96c6-b918832f34cd.jpg",height:"400px",width:"100%"})}),Object(R.jsxs)($.a,{maxWidth:"xs",children:[Object(R.jsx)(h.a,{className:e.loginBox,children:Object(R.jsx)(te.a,{clientId:"785578439110-ife7i20s9dqj3n6hnnochdb4pme5quc7.apps.googleusercontent.com",buttonText:"Welcome Back",onSuccess:b,onFailure:b,cookiePolicy:"single_host_origin"})}),Object(R.jsx)(de,{sx:{mt:8,mb:4}})]})]})},pe=a(116),je=[{name:"notFound",path:"/not-found",component:a.n(pe).a},{name:"dashboard",path:"/dashboard",component:function(){return Object(R.jsx)(Z,{})}},{name:"login",path:"/",component:be}],he=new k.QueryClient;var xe=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(R.jsx)(k.QueryClientProvider,{client:he,contextSharing:!0,children:Object(R.jsxs)(u.a,{theme:P,children:[Object(R.jsx)(l.a,{}),Object(R.jsx)("main",{className:"container",children:Object(R.jsx)(U.Provider,{value:{user:a,setUser:c},children:Object(R.jsx)(s.c,{children:je.map((function(e){var t=e.path,a=e.component,n=e.name;return Object(R.jsx)(s.a,{path:t,element:Object(R.jsx)(a,{})},n)}))})})})]})})},me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,225)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};r.a.render(Object(R.jsx)(o.a,{children:Object(R.jsx)(xe,{})}),document.getElementById("root")),me()}},[[168,1,2]]]);
//# sourceMappingURL=main.ed05a661.chunk.js.map