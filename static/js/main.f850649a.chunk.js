(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{161:function(e,t){},195:function(e,t,a){},196:function(e,t,a){},223:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(22),r=a.n(s),i=a(71),o=(a(195),a(100)),l=a(16),j=a(17),u=(a(196),a(34)),d=a(122),b=a(307),x=a(299),p=a(293),h=a(313),m=a(312),O=a(314),f=a(304),g=a(310),v=a(309),S=a(308),w=a(47),T=a(44),y=a.n(T),C=a(90),F=a(151),k=a.n(F),N=function(){var e=Object(C.a)(y.a.mark((function e(t){var a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object({NODE_ENV:"production",PUBLIC_URL:"/webapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT||8080,e.next=3,k.a.get("http://20.118.65.75:".concat(a).concat(t));case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=a(301),B=a(5),E=a(153),R=a.n(E),I=a(154),W=a.n(I),_=Object(d.a)({palette:{primary:R.a,secondary:W.a},typography:{fontFamily:["Mountains of Christmas","cursive"].join(",")}}),q=function(){return{container:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",padding:"60px",overflow:"auto"},flexBox:{border:0,display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",borderRadius:3,boxShadow:"0 5px 7px 4px rgba(255, 105, 135, .3)",color:"white",height:500,width:"100%",overflow:"auto",outline:"1px solid black"},box:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"60px",paddingBottom:"60px"},familyTitle:Object(B.a)({fontSize:"50px !important"},_.breakpoints.down("sm"),{fontSize:"30px !important"}),sidesFrame:{display:"flex",width:"20%"},pictureFrame:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",width:"100%",height:"80%"},pictureBox:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",borderRadius:3,boxShadow:"0 5px 7px 4px rgba(255, 105, 135, .3)",color:"white",height:"100%",width:"100%",overflow:"hidden",outline:"1px solid black",borderImage:"url(https://user-images.githubusercontent.com/76976401/145110512-1483dd79-a43f-42cd-96c6-b918832f34cd.jpg) 30 stretch",border:"20px solid transparent"},topAndBotPicture:{backgroundImage:"url(https://user-images.githubusercontent.com/76976401/144694133-51c5bc20-f99d-4f85-bb01-fbf9b9264d03.jpg)",backgroundSize:"cover",outline:"1px solid black",backgroundRepeat:"no-repeat",height:"100%",width:"100%",display:"flex"},sidePicture:{backgroundImage:"url(https://user-images.githubusercontent.com/76976401/144694112-a3c70e72-d104-4860-bedd-9fbf30dc66b6.jpg)",backgroundSize:"cover",outline:"1px solid black",backgroundRepeat:"no-repeat",height:"100%",width:"100%",display:"flex"},dashboard:{display:"flex"},marginTitle:{flexGrow:1,paddingLeft:"10%",color:"#FFFFFF"},appBar:{background:"#2B3EFC",width:"100%",position:"absolute",zIndex:"100"},flexBoxV3:{background:"#FCFCFC",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"#FFFFFF",height:900,padding:"0 30px",overflow:"auto"},normalL:{color:"#19191A",display:"flex",justifyContent:"center",alignItems:"center"},normalTitle:{color:"#7688A1",display:"flex",justifyContent:"center",alignItems:"center"},tableRow:{display:"flex"},chip:{color:"#BCBCF6"},TableCSS:{borderRadius:"90%"},headerButton:{width:"100%"},iconCSS:{margin:"0px 0px 0px 16px"},iconButton:{color:"#FFFFFF"},borders:{borderBottom:"3px solid rgb(212, 212, 212)"}}},D=a(41),P=a(18),A=a(305),Q=(a(220),a(2)),H=Object(L.a)(q),U=function(e){var t=H();return Object(Q.jsx)(p.a,{className:t.tableRow,children:Object(Q.jsxs)(f.a,{container:!0,spacing:1,children:[Object(Q.jsxs)(f.a,{item:!0,xs:6,children:[Object(Q.jsx)("p",{className:t.normalTitle,children:"Ticket Title"}),Object(Q.jsx)("p",{className:t.normalL,children:e.title})]}),Object(Q.jsxs)(f.a,{item:!0,xs:6,children:[Object(Q.jsx)("p",{className:t.normalTitle,children:"Ticket SLA"}),Object(Q.jsx)("p",{className:t.normalL,children:e.SLA})]}),Object(Q.jsxs)(f.a,{item:!0,xs:6,children:[Object(Q.jsx)("p",{className:t.normalTitle,children:"Ticket State"}),Object(Q.jsx)("p",{className:t.normalL,children:e.TicketState})]}),Object(Q.jsxs)(f.a,{item:!0,xs:6,children:[Object(Q.jsx)("p",{className:t.normalL,children:"Responsable: ".concat(e.resName," ").concat(e.resLastName)}),Object(Q.jsx)("p",{className:t.normalL,children:"Email: ".concat(e.resEmail)})]}),Object(Q.jsxs)(f.a,{item:!0,xs:6,children:[Object(Q.jsx)("p",{className:t.normalTitle,children:"Ticket Queue"}),Object(Q.jsx)("p",{className:t.normalL,children:e.Queue})]}),Object(Q.jsxs)(f.a,{item:!0,xs:6,children:[Object(Q.jsx)("p",{className:t.normalTitle,children:"Ticket Service"}),Object(Q.jsx)("p",{className:t.normalL,children:e.service})]})]})})},K=a(156),z=a.n(K),V=a(157),G=a.n(V),M=Object(L.a)(q),J=function(e){var t=M(),a=Object(c.useState)([]),n=Object(l.a)(a,2),s=n[0],r=n[1];return Object(c.useEffect)((function(){e.services&&r(e.services.filter((function(t){return t.Service.includes(e.queue)})))}),[e]),Object(Q.jsx)(p.a,{className:t.flexBox,children:Object(Q.jsxs)(f.a,{container:!0,spacing:2,children:[Object(Q.jsx)(f.a,{item:!0,xs:3,children:Object(Q.jsxs)("p",{children:["Total of tickets: ",e.total]})}),Object(Q.jsx)(f.a,{item:!0,xs:9,children:Object(Q.jsxs)(D.a,{data:s||[],children:[Object(Q.jsx)(D.c,{valueField:"Total",argumentField:"Service",innerRadius:.6}),Object(Q.jsx)(D.d,{text:"Tickets by Service"}),Object(Q.jsx)(D.b,{}),Object(Q.jsx)(P.a,{})]})})]})})},X=a(311),Y=a(306),Z=Object(L.a)(q),$=function(e){var t=Object(c.useState)(!1),a=Object(l.a)(t,2),s=a[0],r=a[1],i=Object(c.useState)([]),o=Object(l.a)(i,2),j=o[0],u=o[1],d=Object(c.useState)(0),b=Object(l.a)(d,2),x=b[0],h=b[1],m=Z();return Object(c.useEffect)((function(){var t=e.tickets.filter((function(t){return t.Queue.includes(e.queue)}));u(t),h(t.length)}),[]),Object(Q.jsxs)(p.a,{children:[Object(Q.jsx)(A.a,{className:m.headerButton,onClick:function(){r(!s)},variant:"text",children:Object(Q.jsxs)("h2",{children:[e.queue.replace("Herramientas Aplicaciones::",""),!s&&Object(Q.jsx)(z.a,{className:m.iconCSS}),s&&Object(Q.jsx)(G.a,{className:m.iconCSS})]})}),s&&Object(Q.jsx)(p.a,{className:m.flexBoxV3,children:e.show&&j.map((function(e,t){return Object(Q.jsxs)(n.a.Fragment,{children:[Object(Q.jsx)(U,{title:e.title,Queue:e.Queue,SLA:e.SLA,TicketState:e.TicketState,resEmail:e.resEmail,resLastName:e.resLastName,resName:e.resName,service:e.service,children:e.Queue},e.ticketId+"_"+t),Object(Q.jsx)(X.a,{children:Object(Q.jsx)(Y.a,{onClick:function(){return t=e.ticketNumber,void navigator.clipboard.writeText(t).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)}));var t},label:"Ticket Number: ".concat(e.ticketNumber)})})]})}))}),!s&&Object(Q.jsx)(J,{queue:e.queue,services:e.services,total:x})]})},ee=a(298),te=Object(L.a)(q),ae=function(e){var t=te();return Object(Q.jsx)("div",{children:Object(Q.jsx)(ee.a,{className:t.TableCSS,children:e.queues.map((function(t,a){return Object(Q.jsx)(c.Fragment,{children:Object(Q.jsx)($,{show:!0,tickets:e.tickets,queue:t.Queue,services:e.services},a)})}))})})},ce=Object(c.createContext)(null),ne=a(158),se=a.n(ne),re=a(315),ie=Object(L.a)(q),oe=function(e){var t=ie(),a=Object(c.useContext)(ce);return Object(Q.jsx)(p.a,{className:t.appBar,children:Object(Q.jsx)("div",{className:t.borders,children:Object(Q.jsxs)(h.a,{children:[Object(Q.jsx)(m.a,{component:"h1",variant:"h6",noWrap:!0,className:t.marginTitle,children:"Dashboard"}),Object(Q.jsx)(re.a,{className:t.iconButton,onClick:function(){a.setUser("LogOut"),console.log(a)},children:Object(Q.jsx)(se.a,{})})]})})})};function le(e){return Object(Q.jsxs)(m.a,Object(u.a)(Object(u.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(Q.jsx)(v.a,{color:"inherit",href:"https://getcrg.com/",children:"CRG"})," ",(new Date).getFullYear(),"."]}))}var je=Object(d.a)(),ue=Object(L.a)(q);function de(){var e=Object(c.useContext)(ce).user,t=Object(j.f)(),a=Object(w.useQuery)("tickets",(function(){return N("/api/tickets")})),s=a.data,r=a.status,i=Object(w.useQuery)("queues",(function(){return N("/api/queues")})),o=i.data,l=(i.status,Object(w.useQuery)("queuesTotals",(function(){return N("/api/queues/totals")}))),u=l.data,d=l.status,m=Object(w.useQuery)("queuesServiceTotals",(function(){return N("/api/queues/services/totals")})),v=m.data,T=(m.status,ue());return Object(c.useEffect)((function(){"LogIn"!==e&&t("/",{replace:!0})}),[e]),Object(Q.jsx)(b.a,{theme:je,children:Object(Q.jsxs)(p.a,{className:T.dashboard,children:[Object(Q.jsx)(x.a,{}),Object(Q.jsx)(oe,{}),Object(Q.jsxs)(p.a,{className:T.dashBoardBackground,component:"main",children:[Object(Q.jsx)(h.a,{}),Object(Q.jsxs)(O.a,{maxWidth:"lg",sx:{mt:4,mb:4},children:[Object(Q.jsxs)(f.a,{container:!0,spacing:3,children:[Object(Q.jsx)(f.a,{item:!0,xs:12,children:Object(Q.jsxs)(g.a,{sx:{p:2,display:"flex",flexDirection:"column",height:400,width:"100%"},children:["loading"===d&&Object(Q.jsx)(p.a,{sx:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(Q.jsx)(S.a,{})}),"success"===d&&Object(Q.jsxs)(D.a,{data:u||[],children:[Object(Q.jsx)(D.c,{valueField:"Total",argumentField:"Queue",innerRadius:.6}),Object(Q.jsx)(D.d,{text:"Queues"}),Object(Q.jsx)(D.b,{}),Object(Q.jsx)(P.a,{})]})]})}),Object(Q.jsx)(f.a,{item:!0,xs:12,children:Object(Q.jsxs)(g.a,{sx:{p:2,display:"flex",flexDirection:"column"},children:["loading"===r&&Object(Q.jsx)(p.a,{sx:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(Q.jsx)(S.a,{})}),"success"===r&&Object(Q.jsx)(n.a.Fragment,{children:Object(Q.jsx)(ae,{queues:o||[],tickets:s,services:v})})]})})]}),Object(Q.jsx)(le,{sx:{pt:4}})]})]})]})})}var be=a(300),xe=["image"],pe=Object(L.a)(q),he=function(e){var t=e.image,a=Object(o.a)(e,xe),c=pe();return Object(Q.jsx)(p.a,Object(u.a)(Object(u.a)({className:c.pictureBox},a),{},{children:Object(Q.jsx)("img",Object(u.a)(Object(u.a)({src:t},a),{},{alt:""}))}))},me=a(159),Oe=a.n(me),fe=a(160),ge=a.n(fe),ve=Object(L.a)(q);function Se(e){return Object(Q.jsxs)(m.a,Object(u.a)(Object(u.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(Q.jsx)(v.a,{color:"inherit",href:"https://www.getcrg.com/",children:"Familia Parra Barillas"})," ",(new Date).getFullYear(),"."]}))}var we=function(){var e=ve(),t=Object(j.f)(),a=Object(c.useContext)(ce),n=Object(c.useState)(""),s=Object(l.a)(n,2),r=s[0],i=s[1],o=Object(c.useState)(""),u=Object(l.a)(o,2),d=u[0],h=u[1],f=Object(c.useState)(!1),g=Object(l.a)(f,2),v=g[0],S=g[1];Object(c.useEffect)((function(){v&&(t("/dashboard",{replace:!0}),a.setUser("LogIn"))}),[v]);var w=function(){var e=Object(C.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object({NODE_ENV:"production",PUBLIC_URL:"/webapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT||8080,window.XMLHttpRequest&&(a=new XMLHttpRequest),a.open("GET","http://20.118.65.75:".concat(t,"/auth/").concat(r,"/").concat(d)),a.addEventListener("load",(function(e){"true"===e.target.responseText&&S(e),console.log(e.target.responseText)})),a.send();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e){"email"===e.currentTarget.name&&i(e.currentTarget.value),"password"===e.currentTarget.name&&h(e.currentTarget.value)};return Object(Q.jsxs)(b.a,{theme:_,children:[Object(Q.jsx)(x.a,{}),Object(Q.jsx)(O.a,{component:"main",maxWidth:"xs",children:Object(Q.jsx)(p.a,{className:e.box,children:Object(Q.jsxs)(m.a,{className:e.familyTitle,children:[Object(Q.jsx)(Oe.a,{}),"Family Album",Object(Q.jsx)(ge.a,{})]})})}),Object(Q.jsx)(O.a,{maxWidth:"xs",children:Object(Q.jsx)(he,{image:"https://user-images.githubusercontent.com/76976401/144694166-55203e91-62f9-4cdf-aad1-2f7e7540b81d.jpg",height:"400px",width:"100%"})}),Object(Q.jsxs)(O.a,{maxWidth:"xs",children:[Object(Q.jsxs)(p.a,{noValidate:!0,sx:{mt:1},children:[Object(Q.jsx)(be.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Name",name:"email",autoComplete:"email",autoFocus:!0,onChange:T}),Object(Q.jsx)(be.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Family Password",type:"password",id:"password",autoComplete:"current-password",onChange:T}),Object(Q.jsx)(A.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:w,children:"Welcome Back"})]}),Object(Q.jsx)(Se,{sx:{mt:8,mb:4}})]})]})},Te=a(161),ye=[{name:"notFound",path:"/not-found",component:a.n(Te).a},{name:"login",path:"/",component:we},{name:"dashboard",path:"/dashboard",component:function(){return Object(Q.jsx)(de,{})}}],Ce=["path","component","name"],Fe=new w.QueryClient;var ke=function(){var e=Object(c.useState)("notRoot"),t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(Q.jsx)(w.QueryClientProvider,{client:Fe,contextSharing:!0,children:Object(Q.jsx)("main",{className:"container",children:Object(Q.jsx)(ce.Provider,{value:{user:a,setUser:n},children:Object(Q.jsx)(j.c,{children:ye.map((function(e){var t=e.path,a=e.component,c=e.name;Object(o.a)(e,Ce);return Object(Q.jsx)(j.a,{path:t,element:Object(Q.jsx)(a,{})},c)}))})})})})},Ne=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,317)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(Q.jsx)(i.a,{children:Object(Q.jsx)(ke,{})}),document.getElementById("root")),Ne()}},[[223,1,2]]]);
//# sourceMappingURL=main.f850649a.chunk.js.map